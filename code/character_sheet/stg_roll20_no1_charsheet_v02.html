<div class="grid-banner-wrapper">
    <div class="grid-banner grid-banner-logo">
        <div class="grid-item">
            <img src="https://raw.githubusercontent.com/donalharrison/no1_system/site-testing/docs/assets/img/perspective-dice-one.png?raw=True" alt="No1 Logo", width="100", height="100">
        </div>
    </div>
    <div class="grid-banner">
        <div class="grid-banner grid-banner-name">
            <div class="grid-item">Name: </div>
            <div class="grid-item"><input name="attr_name" type="text" width=10 />
            </div>
        </div>
        <div class="grid-banner grid-banner-init">
            <div class="grid-item">Intiative</div>
            <div class="grid-item"><button name="init_test_comp" type="roll" value="">Composure</button></div>
            <div class="grid-item"><button name="init_test_tac" type="roll" value="">Tactics</button></div>
        </div>
        <div class="grid-banner grid-banner-bhits">
            <div class="grid-item">Bonus Hits</div>
            <div class="grid-item">1:<button name="roll_1d4" type="roll" value="/roll 1d4"></button></div>
            <div class="grid-item">2:<button name="roll_2d4" type="roll" value="/roll 2d4"></button></div>
            <div class="grid-item">3:<button name="roll_3d4" type="roll" value="/roll 3d4"></button></div>
        </div>
        <div class="grid-banner grid-banner-hazards">
            <div class="grid-item">Hazards</div>
            <div class="grid-item">1:<button name="roll_1dH" type="roll" value="/roll 1d4>3"></button></div>
            <div class="grid-item">2:<button name="roll_2dH" type="roll" value="/roll 2d4>3"></button></div>
            <div class="grid-item">3:<button name="roll_3dH" type="roll" value="/roll 3d4>3"></button></div>
        </div>
    </div>
    <div class="grid-banner">
        <div class="grid-banner grid-banner-deflabel">
            <div class="grid-item">Defenses
                <div class="grid-banner grid-banner-defenses">
                    <div class="grid-item">Nerve: </div>
                    <div class="grid-item">Refelxes: </div>
                    <div class="grid-item">Vigor: </div>
                    <div class="grid-item"><input type="number" name="attr_def_nerve" step="1" value="0" min="0"
                            max="20" /></div>
                    <div class="grid-item"><input type="number" name="attr_def_reflexes" step="1" value="0" min="0"
                            max="20" /></div>
                    <div class="grid-item"><input type="number" name="attr_def_vigor" step="1" value="0" min="0"
                            max="20" /></div>
                </div>
            </div>
        </div>

        <div class="grid-banner grid-banner-grit">
            <div class="grid-item">Grit:</div>
            <div class="grid-item"><input type="number" name="attr_grit" step="1" value="0" min="0" max="20" /></div>
        </div>
    </div>
    <div class="grid-banner">
        <div class="grid-banner grid-banner-traitlabel">
            <div class="grid-item">Current Trait Points
                <div class="grid-banner grid-banner-traits">
                    <div class="grid-item">Dangerous</div>
                    <div class="grid-item">Deft</div>
                    <div class="grid-item">Savvy</div>
                    <div class="grid-item">Steady</div>
                    <div class="grid-item">Uncanny</div>
                    <div class="grid-item">
                        <input type="number" name="attr_trait_dangerous" step="1" value="0" min="0" max="20" />
                    </div>
                    <div class="grid-item">
                        <input type="number" name="attr_trait_deft" step="1" value="0" min="0" max="20" />
                    </div>
                    <div class="grid-item">
                        <input type="number" name="attr_trait_savvy" step="1" value="0" min="0" max="20" />
                    </div>
                    <div class="grid-item">
                        <input type="number" name="attr_trait_steady" step="1" value="0" min="0" max="20" />
                    </div>
                    <div class="grid-item">
                        <input type="number" name="attr_trait_uncanny" step="1" value="0" min="0" max="20" />
                    </div>
                </div>
            </div>
        </div>
        <div class="grid-banner grid-banner-rerolls">
            <div class="grid-item">Reroll</div>
            <div class="grid-item"><button name="roll_1d4" type="roll" value="/roll 1d4>3"></button></div>
            <div class="grid-item"><button name="roll_1d6" type="roll" value="/roll 1d6>3"></button></div>
            <div class="grid-item"><button name="roll_1d8" type="roll" value="/roll 1d8>3"></button></div>
            <div class="grid-item"><button name="roll_1d10" type="roll" value="/roll 1d10>3"></button></div>
            <div class="grid-item"><button name="roll_1d12" type="roll" value="/roll 1d12>3"></button></div>
        </div>
    </div>
</div>


<input type="hidden" class="sheet-tabstoggle" name="attr_sheetTab" value="character" />
<div>
    <button type="action" name="act_character">Character</button>
    <button type="action" name="act_shifts">Shifts</button>
    <button type="action" name="act_actions">Actions</button>
    <button type="action" name="act_triggers">Triggers</button>
    <button type="action" name="act_powers">Powers</button>
    <button type="action" name="act_journal">Journal</button>
</div>



<div class="sheet-character">
    <h2>Character</h2>
    <div height=10px></div>
    <input type="hidden" class="subsheet-tabstoggle" name="attr_sheetCharacterSubTab" value="traits" />
    <div>
        <button type="action" name="act_traits">Traits</button>
        <button type="action" name="act_skills">Skills</button>
        <button type="action" name="act_static">Static</button>
        <button type="action" name="act_training">Training</button>
    </div>
    <div height=10px></div>

    <div class="sheet-character-traits">
        <p>Traits appear here.</p>
        <div class="grid-container">
            <div class="grid-item">
                <div class="trait-header">
                    Dangerous <input type="number" name="attr_trait_max_dangerous" step="1" value="0" min="0"
                        max="20" />
                    <input class="trait-input" type="text" name="attr_trait_dangerous" value="0">
                </div>
            </div>
            <div class="grid-item">Heritage: <input class="width-170" name="attr_species" type="text" /></div>
            <div class="grid-item">Species: <input class="width-170" name="attr_species" type="text" /></div>
            <div class="grid-item">Primary Defense: </div>
        </div>
    </div>
    <div class="sheet-character-skills">
        <p>Skills appear here.</p>
    </div>
    <div class="sheet-character-static">
        <p>Static appear here.</p>
    </div>
    <div class="sheet-character-training">
        <p>Trainings appear here.</p>
        <p>Ranger
            <input class="sheet-training-ranks" type="number" name="attr_training_ranger_rank" step="1" value="0"
                min="0" max="20" />
        </p>
        <div class="sheet-training-talents">
            Ranger Talents
        </div>
    </div>
</div>



<div class="sheet-shifts">
    <div height=10px></div>
    <div>
        <p>Basic Shifts
            <br>Move
            <br>Use your equipment
            <br>Defy danger<button>Hide!</button><button>Parkour!</button><button>Prove your Mettle!</button>
            <br>Create an Advantage<button>Roll query for skill!</button>
            <br>Use an Advantage
            <br>Initiate a Contest
            <br>Wait for it. . .
        </p>
    </div>
    <div>
        Talent Shifts
        <input type="hidden" class="sheet-training-ranks" type="number" name="attr_training_ranger_rank" step="1"
            value="0" min="0" max="20" />
        <div class="sheet-training-talents">
            Ranger Talents
        </div>
    </div>
</div>


</div>

<div class="sheet-actions">
    <h2>Actions</h2>
    <span>Need Actions subtabs</span>
    <input type="hidden" class="subsheet-tabstoggle" name="attr_sheetActionsSubTab" value="abilities" />
    <div>
        <button type="action" name="act_skills">Use your Skills</button>
        <button type="action" name="act_abilities">Use an Ability</button>
        <button type="action" name="act_shifts">Use a Shift</button>
        <button type="action" name="act_recover">Recover</button>
        <button type="action" name="act_maneuvers">Use a Maneuver</button>
    </div>
    <div class="sheet-actions-abilities">
        <p>Abilities appear here.</p>
        <input type="hidden" class="sheet-training-ranks" type="number" name="attr_training_ranger_rank" step="1"
            value="0" min="0" max="20" />
        <div class="sheet-training-talents">
            Ranger Talents
        </div>
    </div>
    <div class="sheet-actions-recover">
        <p>Recover your defenses</p>
        <button>Compsure for Nerve</button>
        <button>Endure for Vigor</button>
        <button>Focus for Reflexes</button>
    </div>
    <div class="sheet-actions-maneuvers">
        <p>Maneuvers appear here.</p>
    </div>
</div>

<div class="sheet-triggers">
    <h2>Triggers</h2>
    <span>Triggers go here.</span>
</div>

<div class="sheet-powers">
    <h2>Actions</h2>
    <span>Need Powers subtabs</span>
</div>

<div class="sheet-journal">
    <h2>Journal/Notes</h2>
    <span>Track Contacts, Renown, & Notes here</span>
</div>


<script type="text/worker">
  const buttonlist = ["character","shifts","actions", "triggers", "powers", "journal"];
    buttonlist.forEach(button => {
        on(`clicked:${button}`, function() {
            setAttrs({
                sheetTab: button
            });
        });
    });
  
  const buttonlist1 = ["traits","skills","static","training"];
    buttonlist1.forEach(button => {
        on(`clicked:${button}`, function() {
            setAttrs({
                sheetCharacterSubTab: button
            });
        });
    });
    
  const buttonlist2 = ["skills","abilities","shifts","recover","maneuvers"];
    buttonlist2.forEach(button => {
        on(`clicked:${button}`, function() {
            if (button == "skills")
                {
                    setAttrs({
                        sheetTab: "character"
                    });
                    setAttrs({
                        sheetCharacterSubTab: button
                    });
                }
            else if (button == "shifts") {
                    setAttrs({
                        sheetTab: button
                    });
                }
            else {
                setAttrs({
                    sheetActionsSubTab: button
                    });
                }
        });
    });

  on('change:training_ranger_rank', function() {
          setAttrs({ training_ranger_rank: value });
        });

</script>